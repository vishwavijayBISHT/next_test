{"ast":null,"code":"import jwt from \"jsonwebtoken\";\nimport Cart from \"../../models/Cart\";\nexport default (async (req, res) => {\n  const {\n    authorization\n  } = req.headers;\n\n  if (!authorization) {\n    return res.status(401).json({\n      error: \"you must be login\"\n    });\n  }\n\n  try {\n    const {\n      userid\n    } = jwt.verify(authorization, \"fxfgcgvhgvh\");\n    const cart = await Cart.findOne({\n      user: userid\n    });\n    res.status(200).json(cart.product);\n  } catch (err) {\n    return res.status(401).json({\n      error: \"you must be login\"\n    });\n  }\n});","map":{"version":3,"sources":["C:/Users/TCZ-NISHU/Desktop/myprojects/next-p/pages/api/cart.js"],"names":["jwt","Cart","req","res","authorization","headers","status","json","error","userid","verify","cart","findOne","user","product","err"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAAoBF,GAAG,CAACG,OAA9B;;AACA,MAAI,CAACD,aAAL,EAAoB;AAClB,WAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAArB,CAAP;AACD;;AACD,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAaT,GAAG,CAACU,MAAJ,CAAWN,aAAX,EAA0B,aAA1B,CAAnB;AACA,UAAMO,IAAI,GAAG,MAAMV,IAAI,CAACW,OAAL,CAAa;AAAEC,MAAAA,IAAI,EAAEJ;AAAR,KAAb,CAAnB;AACAN,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBI,IAAI,CAACG,OAA1B;AACD,GAJD,CAIE,OAAOC,GAAP,EAAY;AACZ,WAAOZ,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAArB,CAAP;AACD;AACF,CAZD","sourcesContent":["import jwt from \"jsonwebtoken\";\r\nimport Cart from \"../../models/Cart\";\r\n\r\nexport default async (req, res) => {\r\n  const { authorization } = req.headers;\r\n  if (!authorization) {\r\n    return res.status(401).json({ error: \"you must be login\" });\r\n  }\r\n  try {\r\n    const { userid } = jwt.verify(authorization, \"fxfgcgvhgvh\");\r\n    const cart = await Cart.findOne({ user: userid });\r\n    res.status(200).json(cart.product);\r\n  } catch (err) {\r\n    return res.status(401).json({ error: \"you must be login\" });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}